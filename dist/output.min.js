(function(){
'use strict';var k="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,e){a!=Array.prototype&&a!=Object.prototype&&(a[c]=e.value)};function x(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var c=0;c<a.length;++c){var e=a[c];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");}var y=x(this);
function z(a,c){if(c){var e=y;a=a.split(".");for(var d=0;d<a.length-1;d++){var b=a[d];b in e||(e[b]={});e=e[b]}a=a[a.length-1];d=e[a];c=c(d);c!=d&&null!=c&&k(e,a,{configurable:!0,writable:!0,value:c})}}z("Array.prototype.fill",function(a){return a?a:function(c,e,d){var b=this.length||0;0>e&&(e=Math.max(0,b+e));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(e=Number(e||0);e<d;e++)this[e]=c;return this}});
var A=[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,2,0,0,0],[0,0,0,2,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]];
window.onload=function(){var a=document.getElementById("canvas"),c=document.getElementById("title"),e=document.getElementById("status"),d=document.getElementById("alert"),b=document.getElementById("pass"),q=a.width,r=a.height,l=2;c.textContent="\u6b21\u306f"+(1===l?"\u767d":"\u9ed2")+"\u3067\u3059";var p=a.getContext("2d"),t=(r-20)/8,u=(q-20)/8;B(p,{width:q,height:r,a:10});for(var v=0;8>v;++v)for(var w=0;8>w;++w)C(p,{width:q,height:r},{top:v*t+10,left:w*u+10});D(p,{b:t,c:u,a:10});e.textContent="\u767d\uff1a2 \u9ed2\uff1a\uff12";
a.addEventListener("click",function(g){var h=Math.ceil((g.offsetY-10)/t)-1;g=Math.ceil((g.offsetX-10)/u)-1;if(0===A[h][g])if(0!==E(h,g,l)||0!==F(h,g,l)||0!==G(h,g,l)||0!==H(h,g,l)||0!==I(h,g,l)||0!==J(h,g,l)||0!==K(h,g,l)||0!==L(h,g,l)){d.textContent="\u3000";var m=A[h][g]=l;var n=E(h,g,m);for(var f=1;f<n;f++)A[h-f][g]=m;n=F(h,g,m);for(f=1;f<n;f++)A[h+f][g]=m;n=G(h,g,m);for(f=1;f<n;f++)A[h][g+f]=m;n=H(h,g,m);for(f=1;f<n;f++)A[h][g-f]=m;n=I(h,g,m);for(f=1;f<n;f++)A[h-f][g-f]=m;n=J(h,g,m);for(f=1;f<
n;f++)A[h-f][g+f]=m;n=L(h,g,m);for(f=1;f<n;f++)A[h+f][g+f]=m;n=K(h,g,m);for(f=1;f<n;f++)A[h+f][g-f]=m;h=M();g=h.h;m=h.f;0===h.g?e.textContent="\u7d42\u4e86\u301c":(e.textContent="\u767d\uff1a"+g+" \u9ed2\uff1a"+m,l=1===l?2:1,D(p,{b:t,c:u,a:10}),c.textContent="\u6b21\u306f"+(1===l?"\u767d":"\u9ed2")+"\u3067\u3059")}else d.textContent="\u305d\u3053\u306f\u304a\u3051\u306a\u3044\u3088"},!1);a.addEventListener("dblclick",function(){},!1);b.addEventListener("click",function(){l=1===l?2:1;c.textContent=
"\u6b21\u306f"+(1===l?"\u767d":"\u9ed2")+"\u3067\u3059"})};function B(a,c){var e=c.height,d=c.width;c=c.a;a.beginPath();a.rect(0,0,e,d);a.fillStyle="#00AA00";a.fill();a.strokeStyle="black";a.lineWidth=c;a.stroke()}function C(a,c,e){var d=c.height;c=c.width;var b=e.top;e=e.left;a.beginPath();a.rect(b,e,(d-20)/8,(c-20)/8);a.strokeStyle="black";a.lineWidth=2;a.stroke()}
function D(a,c){var e=c.c,d=c.b,b=c.a;A.map(function(q,r){return q.map(function(l,p){0!==l&&(a.beginPath(),a.arc(b+e*(p+.5),b+d*(r+.5),(e-10)/2,0,2*Math.PI),a.fillStyle=1===l?"white":"black",a.fill(),a.strokeStyle=1===l?"white":"black",a.lineWidth=1E-4,a.stroke())})})}function E(a,c,e){for(var d=0,b=1;8>b&&-1!==a-b;++b){if(A[a-b][c]===e){d=b;break}if(0===A[a-b][c])break}return 1===d?0:d}
function F(a,c,e){for(var d=0,b=1;8>b&&8!==a+b;++b){if(A[a+b][c]===e){d=b;break}if(0===A[a+b][c])break}return 1===d?0:d}function G(a,c,e){for(var d=0,b=1;8>b&&8!==c+b;++b){if(A[a][c+b]===e){d=b;break}if(0===A[a][c+b])break}return 1===d?0:d}function H(a,c,e){for(var d=0,b=1;8>b&&-1!==c-b;++b){if(A[a][c-b]===e){d=b;break}if(0===A[a][c-b])break}return 1===d?0:d}function I(a,c,e){for(var d=0,b=1;8>b&&-1!==a-b;++b){if(A[a-b][c-b]===e){d=b;break}if(0===A[a-b][c-b])break}return 1===d?0:d}
function J(a,c,e){for(var d=0,b=1;8>b&&-1!==a-b;++b){if(A[a-b][c+b]===e){d=b;break}if(0===A[a-b][c+b])break}return 1===d?0:d}function K(a,c,e){for(var d=0,b=1;8>b&&8!==a+b;++b){if(A[a+b][c-b]===e){d=b;break}if(0===A[a+b][c-b])break}return 1===d?0:d}function L(a,c,e){for(var d=0,b=1;8>b&&8!==a+b;++b){if(A[a+b][c+b]===e){d=b;break}if(0===A[a+b][c+b])break}return 1===d?0:d}function M(){var a=0,c=0,e=0;A.map(function(d){return d.map(function(b){return 0===b?++a:1===b?++c:++e})});return{g:a,h:c,f:e}};
}).call(this)
